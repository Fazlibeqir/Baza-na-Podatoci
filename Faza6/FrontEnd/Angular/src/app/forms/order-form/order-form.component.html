<div *ngIf="showSnackbar" [class]="snackbarClass">
  {{ snackbarMessage }}
</div>
<form [formGroup]="orderForm" (ngSubmit)="onOrderSubmit()" class="mt-4">
  <div class="form-group">
    <label for="status">Status:</label>
    <input type="text" id="status" class="form-control" formControlName="status">
    <div *ngIf="orderForm.get('status')?.hasError('required') && orderForm.get('status')?.touched" class="text-danger">
      Status is required.
    </div>
  </div>

  <div class="form-group">
    <label for="orderDate">Order Date:</label>
    <input type="date" id="orderDate" class="form-control" formControlName="order_date" required>
    <div *ngIf="orderForm.get('order_date')?.hasError('required') && orderForm.get('order_date')?.touched" class="text-danger">
      Order Date is required.
    </div>
  </div>

  <div class="form-group">
    <label for="totalAmount">Total Amount:</label>
    <input type="number" id="totalAmount" class="form-control" formControlName="total_amount" required>
    <div *ngIf="orderForm.get('total_amount')?.hasError('required') && orderForm.get('total_amount')?.touched" class="text-danger">
      Total Amount is required.
    </div>
  </div>
  <!--  user-->
  <div class="form-group">
    <label for="id_costumer">Select User:</label>
    <select formControlName="id_costumer" name="id_costumer" id="id_costumer" class="form-control">
      <option value="" disabled selected>Select a User</option>
      <option *ngFor="let costumer of costumers" [value]="costumer.id_costumer">{{ costumer.username }}</option>
    </select>
    <div *ngIf="orderForm.get('id_costumer')?.hasError('required') && orderForm.get('id_costumer')?.touched" class="text-danger">
      Please select a User.
    </div>
  </div>


    <!--  payment-->
    <div class="form-group">
      <label for="id_payment">Select Payment:</label>
      <select formControlName="id_payment" name="id_payment" id="id_payment" class="form-control">
        <option value="" disabled selected>Select a Payment</option>
        <option *ngFor="let payment of payments" [value]="payment.id_payment">{{ payment.paymentMethod }}</option>
      </select>
      <div *ngIf="orderForm.get('id_payment')?.hasError('required') && orderForm.get('id_payment')?.touched" class="text-danger">
        Please select a Payment.
      </div>
    </div>


  <!-- Games Section -->
  <p>Select by holding Ctrl</p>
  <div class="form-group">
    <label for="selectedGames">Select Games:</label>
    <select id="selectedGames" class="form-control" formControlName="selectedGames" multiple>
      <option *ngFor="let gameItem of games" [value]="gameItem.id_game">{{ gameItem.title }}</option>
    </select>
    <div *ngIf="orderForm.get('selectedGames')?.hasError('required') && orderForm.get('selectedGames')?.touched" class="text-danger">
      Select the games you want is REQUIRED.
    </div>
  </div>

  <!-- Promotions Section -->
  <div class="form-group">
    <label for="selectedPromotions">Select Promotions:</label>
    <select id="selectedPromotions" class="form-control" formControlName="selectedPromotions" multiple>
      <option *ngFor="let promotionItem of promotions" [value]="promotionItem.id_promotion">{{ promotionItem.title }}</option>
    </select>
    <div *ngIf="orderForm.get('selectedPromotions')?.hasError('required') && orderForm.get('selectedPromotions')?.touched" class="text-danger">
      Select the promotions that are available is REQUIRED.
    </div>
  </div>



  <button type="submit" class="btn btn-primary mt-5">Submit Order</button>
</form>
